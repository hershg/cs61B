<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <!-- common.css -->
  <style>* {-webkit-tap-highlight-color: rgba(0,0,0,0);}html {-webkit-text-size-adjust: none;}body {font-family: Arial, Helvetica, sans-serif;margin: 0;color: #333;word-wrap: break-word;}h1, h2, h3, h4, h5, h6 {line-height: 1.1;}img {max-width: 100% !important;}blockquote {margin: 0;padding: 0 15px;color: #777;border-left: 4px solid #ddd;}hr {background-color: #ddd;border: 0;height: 1px;margin: 15px 0;}code {font-family: Menlo, Consolas, 'Ubuntu Mono', Monaco, 'source-code-pro', monospace;line-height: 1.4;margin: 0;padding: 0.2em 0;font-size: 85%;background-color: rgba(0,0,0,0.04);border-radius: 3px;}pre > code {margin: 0;padding: 0;font-size: 100%;word-break: normal;background: transparent;border: 0;}ol {list-style-type: decimal;}ol ol, ul ol {list-style-type: lower-latin;}ol ol ol, ul ol ol, ul ul ol, ol ul ol {list-style-type: lower-roman;}table {border-spacing: 0;border-collapse: collapse;margin-top: 0;margin-bottom: 16px;}table th {font-weight: bold;}table th, table td {padding: 6px 13px;border: 1px solid #ddd;}table tr {border-top: 1px solid #ccc;}table tr:nth-child(even) {background-color: #f8f8f8;}input[type="checkbox"] {cursor: default;margin-right: 0.5em;font-size: 13px;}.task-list-item {list-style-type: none;}.task-list-item+.task-list-item {margin-top: 3px;}.task-list-item input {float: left;margin: 0.3em 1em 0.25em -1.6em;vertical-align: middle;}#tag-field {margin: 8px 2px 10px;}#tag-field .tag {display: inline-block;background: #cadff3;border-radius: 4px;padding: 1px 8px;color: black;font-size: 12px;margin-right: 10px;line-height: 1.4;}</style>
  <!-- ace-static.css -->
  <style>.ace_static_highlight {white-space: pre-wrap;}.ace_static_highlight .ace_gutter {width: 2em;text-align: right;padding: 0 3px 0 0;margin-right: 3px;}.ace_static_highlight.ace_show_gutter > .ace_line {padding-left: 2.6em;}.ace_static_highlight .ace_line {position: relative;}.ace_static_highlight .ace_gutter-cell {-moz-user-select: -moz-none;-khtml-user-select: none;-webkit-user-select: none;user-select: none;top: 0;bottom: 0;left: 0;position: absolute;}.ace_static_highlight .ace_gutter-cell:before {content: counter(ace_line, decimal);counter-increment: ace_line;}.ace_static_highlight {counter-reset: ace_line;}</style>
  <style>.ace-tomorrow-night-eighties .ace_gutter {background: #272727;color: #CCC}.ace-tomorrow-night-eighties .ace_print-margin {width: 1px;background: #272727}.ace-tomorrow-night-eighties {background-color: #2D2D2D;color: #CCCCCC}.ace-tomorrow-night-eighties .ace_constant.ace_other,.ace-tomorrow-night-eighties .ace_cursor {color: #CCCCCC}.ace-tomorrow-night-eighties .ace_marker-layer .ace_selection {background: #515151}.ace-tomorrow-night-eighties.ace_multiselect .ace_selection.ace_start {box-shadow: 0 0 3px 0px #2D2D2D;}.ace-tomorrow-night-eighties .ace_marker-layer .ace_step {background: rgb(102, 82, 0)}.ace-tomorrow-night-eighties .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid #6A6A6A}.ace-tomorrow-night-bright .ace_stack {background: rgb(66, 90, 44)}.ace-tomorrow-night-eighties .ace_marker-layer .ace_active-line {background: #393939}.ace-tomorrow-night-eighties .ace_gutter-active-line {background-color: #393939}.ace-tomorrow-night-eighties .ace_marker-layer .ace_selected-word {border: 1px solid #515151}.ace-tomorrow-night-eighties .ace_invisible {color: #6A6A6A}.ace-tomorrow-night-eighties .ace_keyword,.ace-tomorrow-night-eighties .ace_meta,.ace-tomorrow-night-eighties .ace_storage,.ace-tomorrow-night-eighties .ace_storage.ace_type,.ace-tomorrow-night-eighties .ace_support.ace_type {color: #CC99CC}.ace-tomorrow-night-eighties .ace_keyword.ace_operator {color: #66CCCC}.ace-tomorrow-night-eighties .ace_constant.ace_character,.ace-tomorrow-night-eighties .ace_constant.ace_language,.ace-tomorrow-night-eighties .ace_constant.ace_numeric,.ace-tomorrow-night-eighties .ace_keyword.ace_other.ace_unit,.ace-tomorrow-night-eighties .ace_support.ace_constant,.ace-tomorrow-night-eighties .ace_variable.ace_parameter {color: #F99157}.ace-tomorrow-night-eighties .ace_invalid {color: #CDCDCD;background-color: #F2777A}.ace-tomorrow-night-eighties .ace_invalid.ace_deprecated {color: #CDCDCD;background-color: #CC99CC}.ace-tomorrow-night-eighties .ace_fold {background-color: #6699CC;border-color: #CCCCCC}.ace-tomorrow-night-eighties .ace_entity.ace_name.ace_function,.ace-tomorrow-night-eighties .ace_support.ace_function,.ace-tomorrow-night-eighties .ace_variable {color: #6699CC}.ace-tomorrow-night-eighties .ace_support.ace_class,.ace-tomorrow-night-eighties .ace_support.ace_type {color: #FFCC66}.ace-tomorrow-night-eighties .ace_heading,.ace-tomorrow-night-eighties .ace_markup.ace_heading,.ace-tomorrow-night-eighties .ace_string {color: #99CC99}.ace-tomorrow-night-eighties .ace_comment {color: #999999}.ace-tomorrow-night-eighties .ace_entity.ace_name.ace_tag,.ace-tomorrow-night-eighties .ace_entity.ace_other.ace_attribute-name,.ace-tomorrow-night-eighties .ace_meta.ace_tag,.ace-tomorrow-night-eighties .ace_variable {color: #F2777A}.ace-tomorrow-night-eighties .ace_indent-guide {background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAEklEQVQImWPQ09NrYAgMjP4PAAtGAwchHMyAAAAAAElFTkSuQmCC) right repeat-y}</style>
  <!-- export.css -->
  <style>
    body{margin:0 auto;max-width:800px;line-height:1.4}
    #nav{margin:5px 0 10px;font-size:15px}
    #titlearea{border-bottom:1px solid #ccc;font-size:17px;padding:10px 0;}
    #contentarea{font-size:15px;margin:16px 0}
    .cell{outline:0;min-height:20px;margin:5px 0;padding:5px 0;}
    .code-cell{font-family:Menlo,Consolas,'Ubuntu Mono',Monaco,'source-code-pro',monospace;font-size:12px;}
    .latex-cell{white-space:pre-wrap;}
  </style>
  <!-- User CSS -->
  <style> .text-cell {font-size: 15px;}.code-cell {font-size: 12px;}.markdown-cell {font-size: 15px;}.latex-cell {font-size: 15px;}</style>
</head>
<body>
  <div id="nav"><div>Next: <a href='Lecture 39 -04 26.html'>Lecture 39 -04/26</a>, Previous: <a href='Lecture 37 - 04 21.html'>Lecture 37 - 04/21</a>, Up: <a href='index.html'>Index</a></div></div>
  <div id="titlearea">
    <h2>Lecture 38 - 04/24</h2>
  </div>
  <div id="contentarea"><div class="cell markdown-cell"><h3 id="compression">Compression</h3>
<ul>
<li>This lecture provides insight into how we compress/decompress files losslessly (without loosing any information), for example with zip files</li><li>Strings are represented as sequences of characters; each character is represented with 8 bits (for example, 'd' is 01100100)</li><li>Instead of using so many bits to represent each character/<em>symbol</em>, we could use shorter bit sequences with different <em>codewords</em> to represent each symbol. <ul>
<li>Converting from original bitstreams to codewords will compress, and creating a program that maps each compressed codeword to its corresponding symbol will decompress</li></ul>
</li><li>Example of codewords representing symbols is Morse Code (where code sequences of dots and dashes represent character symbols):<br><img src="resources/3B4226951D1C37A7CCB8678CB6362880.png" alt=""></li><li>Problem with Morse Code: it isn't <strong>prefix-free</strong>:<ul>
<li>A stream of dots and dashes doesn't definitively tell us where one codeword ends and the next begins (for example, '--.--.' could encode 'meme' or 'gg')</li></ul>
</li><li>A prefix-free code system is one in which no codeword is a prefix of another<ul>
<li>Example 1:<br><img src="resources/4FDB5E3EC0BE46BE58DA8DDE563912B6.png" alt=""></li><li>Example 2:<br><img src="resources/75EAF77CAB9E510F0327F1D0B0BA4FED.png" alt=""></li><li>The above example prefix-free codes are better for some words and worse for other words. If we have a message to send with a large number of 'E' symbols, the Example 1 code will be superior, as we only need two bits to represent each 'E', while Example 2 would need three for each 'E'. With similar reasoning, a message with many 'I' symbols would be better encoded with Example 2</li></ul>
</li><li>How do we find the best possible prefix-free code for a given text?<ul>
<li>Initial approach: <em>Shannon-Fano Coding</em>:<ul>
<li>Count the relative frequencies of all characters in the message (count what percentage of all characters are 'A', 'B', 'C', ...)</li><li>Split these relative frequencies into two halves, each of roughly equal frequency. Give the 'left' half a leading '1' bit, and the 'right' half a leading '0' bit</li><li>Repeat the splitting now on each of our halves, creating further sub-splits of the frequencies and assigning leading bits to the characters, until each split has only one character's frequency in it</li><li>Example:<br><img src="resources/923983A70BEE887D564E38D473DD35B8.png" alt=""><br><img src="resources/9B015FDFD3D7DF7E64D9655B11E4B55A.png" alt=""></li></ul>
</li><li>Optimal approach: <em>Huffman Coding</em>:<ul>
<li>Like before, calculate relative frequencies of all symbols</li><li>Assign each symbol to a node of weigh equivalent to that symbol's relative frequency</li><li>Take the two smallest nodes and merge into a 'supernode' of weight equal to the sum of its two children's weights</li><li>Repeat, until we have a full tree structure</li><li>Example:<br><img src="resources/3F02C3DBF3825567026318319AFA9922.png" alt=""></li></ul>
</li><li>Comparison - Huffman Coding is strictly better than Shannon-Fanning Coding (no downside, for analysis take CS 170):<br><img src="resources/74C75A073D2480FCDC93FEDAF0EB33B7.png" alt=""></li></ul>
</li><li>Data structure to store encoding and decoding:<ul>
<li>For encoding (convert bitstream to a compressed bitstream), we can use an array structure, or a map<ul>
<li>When our symbols are elements that can themselves be used as indices (for example characters with ASCII values), we should use an array structure - something like <code>BitSequence[]</code><ul>
<li>This would be better than a structure like <code>HashMap&lt;Character, BitSequence&gt;</code>, as with HashMaps we have to compute hashCode, do a modular operation, and then lookup in a bucket's linked list</li><li>Array lookups are faster, and we would only be loosing memory efficiency with an array structure if we end up not using some characters in the alphabet</li></ul>
</li><li>However, when our symbols can't be used efficiently as indices in an array structure, it is better to use a map structure for encoding - something like <code>HashMap&lt;Symbol, BitSequence&gt;</code></li></ul>
</li><li>For decoding, we can use a <em>trie</em>:<ul>
<li>We want to look up the longest matching prefix, which is a problem tries are optimal for</li><li>As we traverse through the compressed bitstream, do a prefix match in the trie for our sequence of compressed bits. Keep adding more bits from the compressed stream in the prefix lookup, until the trie only finds a single prefix match (a leaf of the trie structure)</li><li>At the leaf, we store the corresponding uncompressed original symbol's bit sequence. Thus, whenever a leaf is reached, we have found the appropriate uncompressed bit sequence for a given compressed bit sequence. We now reset our prefix lookup sequence and continue to decode the rest of the bitstream</li></ul>
</li></ul>
</li><li>Encoding and decoding in the real world:<ul>
<li>In actual practice, for every possible input file/message to compress, we create a unique code just for that file (the code is optimal for this specific input), and send this along with our compressed file bitstream. This is more efficient than having some single standardized code for all inputs</li><li>More optimal to have a unique code because the cost of sending the code along with the compressed file is similar to a constant factor - the space consumed by sending the code over will not increase/scale as the input increases in size.</li></ul>
</li><li>Summary of Compression:<ul>
<li>Given an input file, we first find relative frequencies of each symbol</li><li>We then build an encoding map and a decoding trie, using Huffman Coding as discussed above</li><li>Create some <code>output.huf</code> file that will contain the compressed file</li><li>Write the decoding trie code to <code>output.huf</code></li><li>Using our encoding map, write the codeword for each symbol in the input file to <code>output.huf</code></li></ul>
</li><li>Summary of Decompression:<ul>
<li>Given an input compressed bitstream, read in the decoding trie</li><li>Then, use codeword bits to walk down the trie structure, outputting a corresponding symbol's uncompressed bit sequence whenever a leaf is reached (meaning only one prefix match found)</li></ul>
</li></ul>
<h4 id="compression-theory">Compression Theory</h4>
<ul>
<li>It is impossible for an algorithm to exist that compresses a bitstream by 50%<ul>
<li>Argument 1: if this were true, we would be able to compress some input with symbols of length <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-335-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-2284" style="width: 0.828em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.677em; height: 0px; font-size: 120%;"><span style="position: absolute; clip: rect(1.691em, 1000em, 2.656em, -0.498em); top: -2.5em; left: 0em;"><span class="mrow" id="MathJax-Span-2285"><span class="mi" id="MathJax-Span-2286" style="font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.044em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.5em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.909em; vertical-align: -0.063em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-335">X</script> to a compressed stream C1 of length <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-336-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-2287" style="width: 1.766em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.458em; height: 0px; font-size: 120%;"><span style="position: absolute; clip: rect(1.668em, 1000em, 2.67em, -0.498em); top: -2.5em; left: 0em;"><span class="mrow" id="MathJax-Span-2288"><span class="mi" id="MathJax-Span-2289" style="font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.044em;"></span></span><span class="texatom" id="MathJax-Span-2290"><span class="mrow" id="MathJax-Span-2291"><span class="mo" id="MathJax-Span-2292" style="font-family: STIXGeneral-Regular;">/</span></span></span><span class="mn" id="MathJax-Span-2293" style="font-family: STIXGeneral-Regular;">2</span></span><span style="display: inline-block; width: 0px; height: 2.5em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.953em; vertical-align: -0.079em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-336">X/2</script>, and in turn compress C1 into a doubly-compressed stream C2 of length <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-337-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-2294" style="width: 1.766em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.458em; height: 0px; font-size: 120%;"><span style="position: absolute; clip: rect(1.668em, 1000em, 2.67em, -0.498em); top: -2.5em; left: 0em;"><span class="mrow" id="MathJax-Span-2295"><span class="mi" id="MathJax-Span-2296" style="font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.044em;"></span></span><span class="texatom" id="MathJax-Span-2297"><span class="mrow" id="MathJax-Span-2298"><span class="mo" id="MathJax-Span-2299" style="font-family: STIXGeneral-Regular;">/</span></span></span><span class="mn" id="MathJax-Span-2300" style="font-family: STIXGeneral-Regular;">4</span></span><span style="display: inline-block; width: 0px; height: 2.5em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.953em; vertical-align: -0.079em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-337">X/4</script>, ... until we have a stream containing symbols of length <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-338-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-2301" style="width: 0.641em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.521em; height: 0px; font-size: 120%;"><span style="position: absolute; clip: rect(1.668em, 1000em, 2.656em, -0.358em); top: -2.5em; left: 0em;"><span class="mrow" id="MathJax-Span-2302"><span class="mn" id="MathJax-Span-2303" style="font-family: STIXGeneral-Regular;">1</span></span><span style="display: inline-block; width: 0px; height: 2.5em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.936em; vertical-align: -0.063em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-338">1</script>. This is simply impossible</li><li>Argument 2: There are much fewer shorter bitstreams than long ones, so guaranteeing compression even once by 50% is impossible:<ul>
<li>We have <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-339-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-2304" style="width: 2.516em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.083em; height: 0px; font-size: 120%;"><span style="position: absolute; clip: rect(1.098em, 1000em, 2.292em, -0.44em); top: -2.135em; left: 0em;"><span class="mrow" id="MathJax-Span-2305"><span class="msubsup" id="MathJax-Span-2306"><span style="display: inline-block; position: relative; width: 2.054em; height: 0px;"><span style="position: absolute; clip: rect(1.668em, 1000em, 2.656em, -0.44em); top: -2.5em; left: 0em;"><span class="mn" id="MathJax-Span-2307" style="font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 2.5em;"></span></span><span style="position: absolute; top: -2.59em; left: 0.521em;"><span class="texatom" id="MathJax-Span-2308"><span class="mrow" id="MathJax-Span-2309"><span class="mn" id="MathJax-Span-2310" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1000</span></span></span><span style="display: inline-block; width: 0px; height: 2.188em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.135em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.182em; vertical-align: -0.063em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-339">2^{1000}</script> possible <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-340-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-2311" style="width: 2.391em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.979em; height: 0px; font-size: 120%;"><span style="position: absolute; clip: rect(1.668em, 1000em, 2.67em, -0.358em); top: -2.5em; left: 0em;"><span class="mrow" id="MathJax-Span-2312"><span class="mn" id="MathJax-Span-2313" style="font-family: STIXGeneral-Regular;">1000</span></span><span style="display: inline-block; width: 0px; height: 2.5em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.953em; vertical-align: -0.079em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-340">1000</script>-bit sequences</li><li>Only <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-341-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-2314" style="width: 15.453em; display: inline-block;"><span style="display: inline-block; position: relative; width: 12.865em; height: 0px; font-size: 120%;"><span style="position: absolute; clip: rect(1.454em, 1000em, 2.697em, -0.358em); top: -2.5em; left: 0em;"><span class="mrow" id="MathJax-Span-2315"><span class="mn" id="MathJax-Span-2316" style="font-family: STIXGeneral-Regular;">1</span><span class="mo" id="MathJax-Span-2317" style="font-family: STIXGeneral-Regular; padding-left: 0.25em;">+</span><span class="mn" id="MathJax-Span-2318" style="font-family: STIXGeneral-Regular; padding-left: 0.25em;">2</span><span class="mo" id="MathJax-Span-2319" style="font-family: STIXGeneral-Regular; padding-left: 0.25em;">+</span><span class="mn" id="MathJax-Span-2320" style="font-family: STIXGeneral-Regular; padding-left: 0.25em;">4</span><span class="mo" id="MathJax-Span-2321" style="font-family: STIXGeneral-Regular;">+</span><span class="mo" id="MathJax-Span-2322" style="font-family: STIXGeneral-Regular;">.</span><span class="mo" id="MathJax-Span-2323" style="font-family: STIXGeneral-Regular; padding-left: 0.188em;">.</span><span class="mo" id="MathJax-Span-2324" style="font-family: STIXGeneral-Regular; padding-left: 0.188em;">.</span><span class="mo" id="MathJax-Span-2325" style="font-family: STIXGeneral-Regular; padding-left: 0.188em;">+</span><span class="msubsup" id="MathJax-Span-2326"><span style="display: inline-block; position: relative; width: 1.69em; height: 0px;"><span style="position: absolute; clip: rect(1.668em, 1000em, 2.656em, -0.44em); top: -2.5em; left: 0em;"><span class="mn" id="MathJax-Span-2327" style="font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 2.5em;"></span></span><span style="position: absolute; top: -2.59em; left: 0.521em;"><span class="texatom" id="MathJax-Span-2328"><span class="mrow" id="MathJax-Span-2329"><span class="mn" id="MathJax-Span-2330" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">500</span></span></span><span style="display: inline-block; width: 0px; height: 2.188em;"></span></span></span></span><span class="mo" id="MathJax-Span-2331" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">=</span><span class="msubsup" id="MathJax-Span-2332" style="padding-left: 0.313em;"><span style="display: inline-block; position: relative; width: 1.69em; height: 0px;"><span style="position: absolute; clip: rect(1.668em, 1000em, 2.656em, -0.44em); top: -2.5em; left: 0em;"><span class="mn" id="MathJax-Span-2333" style="font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 2.5em;"></span></span><span style="position: absolute; top: -2.59em; left: 0.521em;"><span class="texatom" id="MathJax-Span-2334"><span class="mrow" id="MathJax-Span-2335"><span class="mn" id="MathJax-Span-2336" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">501</span></span></span><span style="display: inline-block; width: 0px; height: 2.188em;"></span></span></span></span><span class="mo" id="MathJax-Span-2337" style="font-family: STIXGeneral-Regular; padding-left: 0.25em;">−</span><span class="mn" id="MathJax-Span-2338" style="font-family: STIXGeneral-Regular; padding-left: 0.25em;">1</span></span><span style="display: inline-block; width: 0px; height: 2.5em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.242em; vertical-align: -0.112em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-341">1+2+4+...+2^{500}=2^{501}-1</script> bitstreams exist of length <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-342-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-2339" style="width: 3.016em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.5em; height: 0px; font-size: 120%;"><span style="position: absolute; clip: rect(1.656em, 1000em, 2.759em, -0.405em); top: -2.5em; left: 0em;"><span class="mrow" id="MathJax-Span-2340"><span class="mo" id="MathJax-Span-2341" style="font-family: STIXGeneral-Regular;">≤</span><span class="mn" id="MathJax-Span-2342" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">500</span></span><span style="display: inline-block; width: 0px; height: 2.5em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.074em; vertical-align: -0.186em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-342">\leq 500</script></li><li>This means intuitively that we have <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-339-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-2304" style="width: 2.516em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.083em; height: 0px; font-size: 120%;"><span style="position: absolute; clip: rect(1.098em, 1000em, 2.292em, -0.44em); top: -2.135em; left: 0em;"><span class="mrow" id="MathJax-Span-2305"><span class="msubsup" id="MathJax-Span-2306"><span style="display: inline-block; position: relative; width: 2.054em; height: 0px;"><span style="position: absolute; clip: rect(1.668em, 1000em, 2.656em, -0.44em); top: -2.5em; left: 0em;"><span class="mn" id="MathJax-Span-2307" style="font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 2.5em;"></span></span><span style="position: absolute; top: -2.59em; left: 0.521em;"><span class="texatom" id="MathJax-Span-2308"><span class="mrow" id="MathJax-Span-2309"><span class="mn" id="MathJax-Span-2310" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1000</span></span></span><span style="display: inline-block; width: 0px; height: 2.188em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.135em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.182em; vertical-align: -0.063em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-339">2^{1000}</script> things to put in only <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-343-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-2343" style="width: 4.078em; display: inline-block;"><span style="display: inline-block; position: relative; width: 3.385em; height: 0px; font-size: 120%;"><span style="position: absolute; clip: rect(1.454em, 1000em, 2.656em, -0.44em); top: -2.5em; left: 0em;"><span class="mrow" id="MathJax-Span-2344"><span class="msubsup" id="MathJax-Span-2345"><span style="display: inline-block; position: relative; width: 1.69em; height: 0px;"><span style="position: absolute; clip: rect(1.668em, 1000em, 2.656em, -0.44em); top: -2.5em; left: 0em;"><span class="mn" id="MathJax-Span-2346" style="font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 2.5em;"></span></span><span style="position: absolute; top: -2.59em; left: 0.521em;"><span class="texatom" id="MathJax-Span-2347"><span class="mrow" id="MathJax-Span-2348"><span class="mn" id="MathJax-Span-2349" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">501</span></span></span><span style="display: inline-block; width: 0px; height: 2.188em;"></span></span></span></span><span class="mo" id="MathJax-Span-2350" style="font-family: STIXGeneral-Regular; padding-left: 0.25em;">−</span><span class="mn" id="MathJax-Span-2351" style="font-family: STIXGeneral-Regular; padding-left: 0.25em;">1</span></span><span style="display: inline-block; width: 0px; height: 2.5em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.192em; vertical-align: -0.063em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-343">2^{501} - 1</script> places</li><li>Thus, roughly only <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-344-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-2352" style="width: 8.141em; display: inline-block;"><span style="display: inline-block; position: relative; width: 6.771em; height: 0px; font-size: 120%;"><span style="position: absolute; clip: rect(0.631em, 1000em, 3.869em, -0.469em); top: -2.5em; left: 0em;"><span class="mrow" id="MathJax-Span-2353"><span class="mfrac" id="MathJax-Span-2354"><span style="display: inline-block; position: relative; width: 3.505em; height: 0px; margin-right: 0.12em; margin-left: 0.12em;"><span style="position: absolute; clip: rect(2.887em, 1000em, 4.504em, -0.469em); top: -4.756em; left: 50%; margin-left: -1.027em;"><span class="mrow" id="MathJax-Span-2355"><span class="mpadded" id="MathJax-Span-2356"><span style="display: inline-block; position: relative; width: 0em; height: 0px;"><span style="position: absolute; clip: rect(3.854em, 1000em, 4.167em, -0.469em); top: -4.01em; left: 0em;"><span class="mrow" id="MathJax-Span-2357"><span class="mrow" id="MathJax-Span-2358"></span></span><span style="display: inline-block; width: 0px; height: 4.01em;"></span></span></span></span><span class="mstyle" id="MathJax-Span-2359"><span class="mrow" id="MathJax-Span-2360"><span class="texatom" id="MathJax-Span-2361"><span class="mrow" id="MathJax-Span-2362"><span class="msubsup" id="MathJax-Span-2363"><span style="display: inline-block; position: relative; width: 2.054em; height: 0px;"><span style="position: absolute; clip: rect(1.668em, 1000em, 2.656em, -0.44em); top: -2.5em; left: 0em;"><span class="mn" id="MathJax-Span-2364" style="font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 2.5em;"></span></span><span style="position: absolute; top: -2.59em; left: 0.521em;"><span class="texatom" id="MathJax-Span-2365"><span class="mrow" id="MathJax-Span-2366"><span class="mn" id="MathJax-Span-2367" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1000</span></span></span><span style="display: inline-block; width: 0px; height: 2.188em;"></span></span></span></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.01em;"></span></span><span style="position: absolute; clip: rect(1.376em, 1000em, 2.994em, -0.469em); top: -1.625em; left: 50%; margin-left: -1.693em;"><span class="mrow" id="MathJax-Span-2368"><span class="mpadded" id="MathJax-Span-2369"><span style="display: inline-block; position: relative; width: 0em; height: 0px;"><span style="position: absolute; clip: rect(3.854em, 1000em, 4.167em, -0.469em); top: -4.01em; left: 0em;"><span class="mrow" id="MathJax-Span-2370"><span class="mrow" id="MathJax-Span-2371"></span></span><span style="display: inline-block; width: 0px; height: 4.01em;"></span></span></span></span><span class="mstyle" id="MathJax-Span-2372"><span class="mrow" id="MathJax-Span-2373"><span class="texatom" id="MathJax-Span-2374"><span class="mrow" id="MathJax-Span-2375"><span class="msubsup" id="MathJax-Span-2376"><span style="display: inline-block; position: relative; width: 1.69em; height: 0px;"><span style="position: absolute; clip: rect(1.668em, 1000em, 2.656em, -0.44em); top: -2.5em; left: 0em;"><span class="mn" id="MathJax-Span-2377" style="font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 2.5em;"></span></span><span style="position: absolute; top: -2.59em; left: 0.521em;"><span class="texatom" id="MathJax-Span-2378"><span class="mrow" id="MathJax-Span-2379"><span class="mn" id="MathJax-Span-2380" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">501</span></span></span><span style="display: inline-block; width: 0px; height: 2.188em;"></span></span></span></span><span class="mo" id="MathJax-Span-2381" style="font-family: STIXGeneral-Regular; padding-left: 0.25em;">−</span><span class="mn" id="MathJax-Span-2382" style="font-family: STIXGeneral-Regular; padding-left: 0.25em;">1</span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.5em;"></span></span><span style="position: absolute; clip: rect(0.82em, 1000em, 1.198em, -0.469em); top: -1.262em; left: 0em;"><span style="border-left-width: 3.505em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0em;"></span><span style="display: inline-block; width: 0px; height: 1.042em;"></span></span></span></span><span class="mo" id="MathJax-Span-2383" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">≈</span><span class="msubsup" id="MathJax-Span-2384" style="padding-left: 0.313em;"><span style="display: inline-block; position: relative; width: 1.69em; height: 0px;"><span style="position: absolute; clip: rect(1.668em, 1000em, 2.656em, -0.44em); top: -2.5em; left: 0em;"><span class="mn" id="MathJax-Span-2385" style="font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 2.5em;"></span></span><span style="position: absolute; top: -2.59em; left: 0.521em;"><span class="texatom" id="MathJax-Span-2386"><span class="mrow" id="MathJax-Span-2387"><span class="mn" id="MathJax-Span-2388" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">499</span></span></span><span style="display: inline-block; width: 0px; height: 2.188em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.5em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 3.635em; vertical-align: -1.518em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-344">\cfrac{2^{1000}}{2^{501}-1}\approx 2^{499}</script> of our possible <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-340-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-2311" style="width: 2.391em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.979em; height: 0px; font-size: 120%;"><span style="position: absolute; clip: rect(1.668em, 1000em, 2.67em, -0.358em); top: -2.5em; left: 0em;"><span class="mrow" id="MathJax-Span-2312"><span class="mn" id="MathJax-Span-2313" style="font-family: STIXGeneral-Regular;">1000</span></span><span style="display: inline-block; width: 0px; height: 2.5em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.953em; vertical-align: -0.079em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-340">1000</script>-bit sequences can be of size <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-342-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-2339" style="width: 3.016em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.5em; height: 0px; font-size: 120%;"><span style="position: absolute; clip: rect(1.656em, 1000em, 2.759em, -0.405em); top: -2.5em; left: 0em;"><span class="mrow" id="MathJax-Span-2340"><span class="mo" id="MathJax-Span-2341" style="font-family: STIXGeneral-Regular;">≤</span><span class="mn" id="MathJax-Span-2342" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">500</span></span><span style="display: inline-block; width: 0px; height: 2.5em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.074em; vertical-align: -0.186em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-342">\leq 500</script> (in other words, compressed by 50%)</li></ul>
</li></ul>
</li><li>We don't save space by having a special code that represents a very large uncompressed sequence with a compressed small sequence<ul>
<li>For example, having a compressed sequence of size three bits decompress into a movie file of billions of bits will not actually save space!</li><li>Reason why: we need to also transfer over the decompression algorithm, and with such a scheme, we would have a massive decompression algorithm. No space saved.</li></ul>
</li></ul>
<h4 id="lzw-style-compression">LZW Style Compression</h4>
<ul>
<li>Extra content</li><li>Idea: each codeword represents multiple symbols<ul>
<li>We initially start with a trivial codeword list, where each codeword corresponds to a single symbol</li><li>As we find an occurence of codeword X, we record it and add a new codeword Y to our codeword table, where Y corresponds to X concatenated with the next symbol</li></ul>
</li><li>Visualization: <a href="https://docs.google.com/presentation/d/1U8XO6CWfcU4QgrFOZmGjAgmaKxLc8HXk6qB1JQVlqrg">https://docs.google.com/presentation/d/1U8XO6CWfcU4QgrFOZmGjAgmaKxLc8HXk6qB1JQVlqrg</a></li></ul>
<h4 id="lossy-compression">Lossy Compression</h4>
<ul>
<li>Extra content</li><li>Several formats, such as JPEG, MP3, and MP4 are all lossy - they loose information during the compression</li><li>The formats are carefully designed to discard very minor, subtle parts of media that are not important to the actual media content, from a human sensory point of view<ul>
<li>For example, high frequencies that can't be heard by humans are discarded from audio, while in video very minor changes in color are removed (low frequencies)</li><li>Note: study this in EE 16B with tools such as singular value decomposition (SVD)</li></ul>
</li><li></li></ul>
</div></div>
  <script>document.body.onkeyup = function(e) {
if (e.keyCode === 39) window.location.href = 'Lecture 39 -04 26.html';
if (e.keyCode === 37) window.location.href = 'Lecture 37 - 04 21.html';
}</script>
</body>
</html>